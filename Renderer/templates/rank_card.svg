<svg width="800" height="250" viewBox="0 0 800 250" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#1e1e24"/>
      <stop offset="100%" stop-color="#15151a"/>
    </linearGradient>
    
    <clipPath id="avatar-clip">
      <circle cx="125" cy="125" r="75"/>
    </clipPath>
  </defs>

  <rect width="800" height="250" rx="20" fill="url(#bg)"/>

  <circle cx="125" cy="125" r="85" fill="none" stroke="{{ clan_color }}" stroke-width="8"/>
  
  <image x="50" y="50" width="150" height="150" clip-path="url(#avatar-clip)" href="data:image/png;base64,{{ avatar_b64 }}"/>

  <text x="250" y="100" font-family="TT Fors Trial, sans-serif" font-size="42" font-weight="bold" fill="#ffffff">
    {{ username }}
  </text>

  <text x="750" y="90" font-family="TT Fors Trial, sans-serif" font-size="28" fill="#a0a0a0" text-anchor="end">
    RANK <tspan fill="#ffffff" font-size="42">#{{ rank }}</tspan>
  </text>

  <text x="750" y="160" font-family="TT Fors Trial, sans-serif" font-size="24" fill="#a0a0a0" text-anchor="end">
    {{ current_xp }} / {{ next_xp }} XP
  </text>

  <rect x="250" y="175" width="500" height="25" rx="12.5" fill="#2c2c35"/>

  <rect x="250" y="175" width="{{ progress_width }}" height="25" rx="12.5" fill="{{ clan_color }}"/>
</svg>
